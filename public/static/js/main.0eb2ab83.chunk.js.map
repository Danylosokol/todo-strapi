{"version":3,"sources":["TodoItem.jsx","App.js","index.js"],"names":["TodoItem","_ref","todo","update","_useState","useState","_useState2","Object","slicedToArray","edit","setEdit","_useState3","_useState4","newTodo","setNewTodo","react_default","a","createElement","className","onSubmit","e","preventDefault","task","pos","id","body","data","fetch","concat","process","method","headers","Content-type","JSON","stringify","then","type","placeholder","value","onChange","currentTarget","attributes","onClick","App","todos","setTodos","res","json","useEffect","map","i","src_TodoItem","key","ReactDOM","createRoot","document","getElementById","render","StrictMode","src_App"],"mappings":"gJA6DeA,MA1Df,SAAAC,GAAkC,IAAfC,EAAeD,EAAfC,KAAMC,EAASF,EAATE,OAASC,EACRC,oBAAS,GADDC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACzBK,EADyBH,EAAA,GACnBI,EADmBJ,EAAA,GAAAK,EAEFN,mBAAS,IAFPO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAEzBE,EAFyBD,EAAA,GAEhBE,EAFgBF,EAAA,GAuChC,OAAOG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QAEjBT,EAECM,EAAAC,EAAAC,cAAA,QAAME,SAvCZ,SAAoBC,GAClBA,EAAEC,iBACF,IAAIC,EAAOT,EACPU,EAAMrB,EAAKsB,GACXC,EAAO,CACTC,KAAM,CACJJ,SAIJK,MAAK,GAAAC,OAAIC,wBAAJ,eAAAD,OAA+CL,GAAO,CACzDO,OAAQ,MACRC,QAAS,CACPC,eAAiB,oBAEnBP,KAAMQ,KAAKC,UAAUT,KAEpBU,KAAK,WACJzB,GAAQ,GACRP,QAqBEY,EAAAC,EAAAC,cAAA,SAAOC,UAAU,aAAakB,KAAK,OAAOC,YAAY,iBAAiBC,MAAOzB,EAAS0B,SAAU,SAAAnB,GAAC,OAAIN,EAAWM,EAAEoB,cAAcF,UACjIvB,EAAAC,EAAAC,cAAA,UAAQC,UAAU,cAAckB,KAAK,UAArC,gBAHFrB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QAAQhB,EAAKuC,WAAWnB,MAM3CP,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQC,UAAU,SAASwB,QAtB/B,SAAoBtB,GAClBA,EAAEC,iBACF,IAAIE,EAAMrB,EAAKsB,GAEfG,MAAK,GAAAC,OAAIC,wBAAJ,eAAAD,OAA+CL,GAAO,CACzDO,OAAQ,WAEPK,KAAK,WACJhC,QAcF,UACAY,EAAAC,EAAAC,cAAA,UAAQC,UAAU,OAAOwB,QAAS,WAChChC,GAASD,GACTK,EAAWZ,EAAKuC,WAAWnB,QAF7B,WCSSqB,MA1Df,WAAc,IAAAvC,EACcC,mBAAS,IADvBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACLwC,EADKtC,EAAA,GACEuC,EADFvC,EAAA,GAAAK,EAEkBN,mBAAS,IAF3BO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAELE,EAFKD,EAAA,GAEIE,EAFJF,EAAA,GAQZ,SAAST,IACPwB,MAAK,GAAAC,OAAIC,wBAAJ,eACFM,KAAK,SAAAW,GAAG,OAAIA,EAAIC,SAChBZ,KAAK,SAAAjC,GACJ2C,EAAS3C,EAAKwB,QA0BpB,OAlCAsB,oBAAU,WACR7C,KACC,IAiCDY,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,OAAOC,SAzB7B,SAAiBC,GACfA,EAAEC,iBACF,IACII,EAAO,CACTC,KAAM,CACJJ,KAHOT,IAOXc,MAAK,GAAAC,OAAIC,wBAAJ,cAA+C,CAClDC,OAAQ,OACRC,QAAS,CACPC,eAAiB,oBAEnBP,KAAMQ,KAAKC,UAAUT,KAEpBU,KAAK,WACJrB,EAAW,IACXX,QAQEY,EAAAC,EAAAC,cAAA,SAAOmB,KAAK,OAAOlB,UAAU,aAAamB,YAAY,iBAAiBC,MAAOzB,EAAS0B,SAAW,SAAAnB,GAAC,OAAIN,EAAWM,EAAEoB,cAAcF,UAClIvB,EAAAC,EAAAC,cAAA,UAAQmB,KAAK,SAASlB,UAAU,eAAhC,aAGFH,EAAAC,EAAAC,cAAA,WAEI2B,EAAMK,IAAI,SAAC/C,EAAMgD,GACf,OAAOnC,EAAAC,EAAAC,cAACkC,EAAD,CAAUjD,KAAMA,EAAMkD,IAAKF,EAAG/C,OAAQA,UCjD9CkD,IAASC,WAAWC,SAASC,eAAe,SACpDC,OACH1C,EAAAC,EAAAC,cAACF,EAAAC,EAAM0C,WAAP,KACE3C,EAAAC,EAAAC,cAAC0C,EAAD","file":"static/js/main.0eb2ab83.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport './App.css';\n\nfunction TodoItem({todo, update}) {\n  const [edit, setEdit] = useState(false);\n  const [newTodo, setNewTodo] = useState(\"\");\n\n  function changeTodo(e){\n    e.preventDefault();\n    let task = newTodo;\n    let pos = todo.id;\n    let body = {\n      data: {\n        task\n      }\n    };\n\n    fetch(`${process.env.REACT_APP_BACKEND}/api/todos/${pos}`, {\n      method: \"PUT\",\n      headers: {\n        'Content-type' : 'application/json'\n      },\n      body: JSON.stringify(body)\n    })\n      .then(() => {\n        setEdit(false);\n        update();\n      })\n  }\n\n  function deleteTodo(e){\n    e.preventDefault();\n    let pos = todo.id;\n\n    fetch(`${process.env.REACT_APP_BACKEND}/api/todos/${pos}`, {\n      method: \"DELETE\"\n    })\n      .then(() => {\n        update();\n      })\n  }\n\n  return <div className=\"todo\">\n    {\n      !edit\n      ? <div className=\"name\">{todo.attributes.task}</div>\n      : <form onSubmit={changeTodo}>\n          <input className=\"todo_input\" type=\"text\" placeholder=\"Enter new todo\" value={newTodo} onChange={e => setNewTodo(e.currentTarget.value)}/>\n          <button className=\"todo_button\" type=\"submit\">Change todo</button>\n        </form>\n    }\n    <div>\n      <button className=\"delete\" onClick={deleteTodo}>delete</button>\n      <button className=\"edit\" onClick={()=>{\n        setEdit(!edit);\n        setNewTodo(todo.attributes.task);\n      }}>edit</button>\n    </div>\n  </div>\n}\n\nexport default TodoItem;","import React, {useState, useEffect} from 'react';\nimport TodoItem from './TodoItem';\nimport './App.css';\n\nfunction App(){\n  const [todos, setTodos] = useState([]);\n  const [newTodo, setNewTodo] = useState(\"\");\n\n  useEffect(() => {\n    update();\n  }, []);\n\n  function update() {\n    fetch(`${process.env.REACT_APP_BACKEND}/api/todos`)\n      .then(res => res.json())\n      .then(todo => {\n        setTodos(todo.data);\n      })\n  }\n\n  function addTodo(e){\n    e.preventDefault();\n    let task = newTodo;\n    let body = {\n      data: {\n        task\n      }\n    }\n\n    fetch(`${process.env.REACT_APP_BACKEND}/api/todos`, {\n      method: \"POST\",\n      headers: {\n        'Content-type' : 'application/json'\n      },\n      body: JSON.stringify(body)\n    })\n      .then(() => {\n        setNewTodo(\"\");\n        update();\n      })\n  }\n\n  return(\n    <div className=\"app\">\n      <main>\n        <form className=\"form\" onSubmit={addTodo}>\n          <input type=\"text\" className=\"todo_input\" placeholder=\"Enter new todo\" value={newTodo} onChange={ e => setNewTodo(e.currentTarget.value)}/>\n          <button type=\"submit\" className=\"todo_button\">Add todo</button>\n        </form>\n\n        <div>\n          {\n            todos.map((todo, i) => {\n              return <TodoItem todo={todo} key={i} update={update} />\n            })\n          }\n        </div>\n      </main>\n    </div>\n  )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App.js'\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>\n);\n\n"],"sourceRoot":""}